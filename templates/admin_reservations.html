<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>All Reservations</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container my-4">
    <h2>All Reservations</h2>

    {% for r in reservations %}
    <div class="card mb-3 shadow-sm">
        <div class="card-body">
            <h6>User: {{ r.user.full_name }} ({{ r.user.email }})</h6>
            <p>
                Lot: {{ r.spot.lot.name }} | Spot ID: {{ r.spot_id }}<br>
                Start: {{ r.start_time or '—' }} | End: {{ r.end_time or '—' }}<br>
                {% if r.total_cost %}Cost: ₹{{ r.total_cost }}{% endif %}
            </p>
        </div>
    </div>
    {% endfor %}
</div>
</body>
</html>
<script>
    // Ensure Bootstrap JS is loaded for alert dismiss functionality
    document.addEventListener('DOMContentLoaded', function () {
        var alerts = document.querySelectorAll('.alert-dismissible');
        alerts.forEach(function (alert) {
            alert.querySelector('.btn-close').addEventListener('click', function () {
                alert.classList.remove('show');
            });
        });
    });
</script>